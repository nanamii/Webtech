%\documentclass[ngerman,dvips]{wkcms}  % latex + dvips
\documentclass[ngerman,pdf]{wkcms}    % pdflatex

\usepackage[utf8]{inputenc}

\title{SSH - The Secure Shell}
\subtitle{Überblick, Technologie, Anwendungsbeispiele}
\author{Susanne Kießling}
\date{\todaylong}

\address
{Hochschule Augsburg\\
 Masterstudiengang Informatik\\
 E-Mail: \url{susanne.kiessling@hs-augsburg.de}      
}

\begin{abstract}
Dfsjkhc sdjfh sdjlkfh sdljkf hlasdjkf haljksdfh asdjlfh als. asdfjk asdjflkha
sdfljhas dfljashd fljkasdhf jlaksdfh lajskdfh alsjkdfh asldjkf hasldjkfh
asljkdfh asljkdf hasljdkfh asljkdfh asljkdfh asljkdfh asljkdfh asljkdfh
asljkdfh alsjkdfh asljkdfh asljkdfh asljkdfh asljkdfh asldkjfh asldkjfh
aslkdjfh.

Asljkdfh alsjkdfh asljkdfh asljkdfh asljkdfh asljkdfh asldkjfh asldkjfh
asljkdfh alsjkdfh asljkdfh asljkdfh asljkdfh asljkdfh asldkjfh asldkjfh
asljkdfh alsjkdfh asljkdfh asljkdfh asljkdfh asljkdfh asldkjfh asldkjfh
aslkdjfh.
\end{abstract}

\keywords{SSH, OpenSSH, Verschlüsselung, TCP/IP-Protokoll}
\categories{Allgemein}

\begin{document}

\maketitle


\section{Einleitung}

Die Übertragung von Daten innerhalb von Computernetzwerken geschieht ohne
entsprechende Vorkehrungen grundsätzlich ungesichert. E-Mails, Passwörter und sämtliche Daten, die übertragen werden, können abgefangen und gelesen werden. SSH (Secure Shell) ist ein Protokoll, das die verschlüsselte Übertragung von Daten über ein Netzwerk ermöglicht \cite{SSH}.
Trotz zahlreicher Berichterstattung über die Folgen von sorglosem Umgang mit Daten in Computernetzwerken, wozu natürlich auch das World Wide Web gehört, ändern viele Nutzer
ihr Verhalten diesbezüglich nicht. Die Sicherheit von privaten Daten ist ein hochaktuelles Thema. SSH (als Protokoll) und dessen Implementierungen stellen eine Möglichkeit dar, Daten innerhalb eines Computernetzwerks sicher zu übertragen. Ziel ist es nun, einen Überblick zu SSH zu geben. OpenSSH dient anschließend als Beispiel-Implementierung, anhand derer die Funktionalitäten gezeigt werden. Der Ablauf eines Verbindungsaufbaus und die verwendeten Verschlüsselungsalgorithmen werden erläutert. Auf aktuelle sicherheitskritische BUGs wird eingegangen. Zur Abgrenzung zwischen der Bezeichnung von SSH als Protokoll bzw. als Implementierung, wird an dieser Stelle festgelegt, dass \IT{SSH} das Protokoll bezeichnet und die Implementierungen explizit benannt werden (bsp. \IT{OpenSSH}).

--> Bereits 19.. entwickelt, in zahlreichen Produkten implementiert
--> Vorgänger telnet, rsh, alles ungesichert

--> evtl. als aktuell erwähnen, dass es auch SSH für mobile Betriebssysteme gibt

 schlechte Passwörter/Bruce Schneier?

SSH (Secure Shell) ist eine unixoide Tralalala...

--> Paper konzentriert sich auf SSH unter Linux
--> Paper will Idee verbreiten, dass mit unscheinbarem Tool einiges möglich ist; ssh wird in vielen Anwendungen verwendet etc.



\newpage

\section{Grundlegendes zu SSH}


SSH verschlüsselt die forlaufende Verbindung zwischen Computern in einem Netzwerk. Dazu verwendet SSH eine Client/Server-Architektur. Abbildung \ref{fig:abb1} veranschaulicht das Grundprinzip von SSH, das laut seiner Spezifikation die Authentifizierung, die Verschlüsselung und die Integrität von Daten, die in einem Netzwerk übertragen werden, beinhaltet.

\begin{figure}[!h] 
\centering 
\includegraphics[scale=0.25]{./images/grundprinzip.png}
\label{fig:abb1} 
\caption[Abbildung 1]{Grundprinzip von SSH, eigene Darstellung.} 
\end{figure}
 
Wie in der Abbildung \ref{fig:abb1} zu sehen ist, verlangt eine SSH-Verbindung zwei Authentifizierungen \cite[S. 47]{SSH}. Der Server authentifiziert sich beim Client und umgekehrt (näheres zum Ablauf unter \ref{sec:ablauf}). Zum Verschlüsseln der Daten werden zufällige Sitzungsschlüssel ausgehandelt. Nach Beenden der Sitzung verlieren diese Schlüssel ihre Gültigkeit. SSH garantiert die Integrität der übertragenen Daten, \Dh die Daten können nicht durch einen Dritten (Mallory) verändert werden. 


\subsection{Protokolle}

Das SSH-Protokoll existiert in zwei unterschiedlichen Versionen (SSH-1.x und SSH-2.x), die nicht kompatibel sind. SSH-1 wurde 1995 von Tatu Ylönen an der University of Technology in Helsinki entwickelt. Da es Mängel in der Integritätsprüfung aufweist, ist von einer weiteren Verwendung des SSH-1 Protokolls dringend abzuraten.

SSH-2 ist modular aufgebaut. Die Architektur besteht aus drei Hauptkomponenten: Die Transportschicht, die Authentifizierungsschicht und die Verbindungsschicht. Beschrieben sind die Komponenten durch die \IT{Request for Comments} 4250 bis 4254 der IETF (Internet Engineering Task Force) \cite{ietf}. Ziel der Entwicklung von SSH-2 war es, die Sicherheitsmängel von SSH-1 zu beheben. Außerdem sind weitere Funktionalitäten hinzugekommen. --> evtl. Funktionalitäten aufführen


\subsection{Implementierungen}

Als erste Implementierung des SSH-Protokolls gilt das von Tatu Ylönen 1995 veröffentlichte SSH1.
Es wurde als freie Software veröffentlicht \cite[S. 11]{SSH}. Die Implementierung des SSH-2-Protokolls war hingegen ein kommerzielles Produkt. Die kostenlose Nutzung war nur für Bildungseinrichtungen und den nicht-gewerblichen Bereich erlaubt \cite[S. 22]{SSH}. Folglich kam weiterhin vielerorts die Implementierung des SSH-1-Protokolls zum Einsatz. 1999 entstand das OpenSSH-Projekt, das auf die letzte frei verfügbare Version von SSH aufbaut \cite{OpenSSH}.

Aktuell gibt es verschiedene Implementierungen des SSH-Protokolls. Je nach Einsatzzweck (mobiles Gerät/Workstation) oder Betriebssystem gibt es verschiedene Alternativen. Im Folgenden ist eine Auswahl von Implementierungen mit Kurzbeschreibung aufgeführt.

\subparagraph{Dropbear} ist eine Implementierung des SSH-2-Protokolls und steht unter der MIT-Lizenz \cite{dropbear}. Dropbear ist vorallem für Systeme mit geringer Prozessorleistung und geringer Speicherkapazität interessant. Es ist auf verschiedenen POSIX-basierten Systemen lauffähig. Eine entsprechende Auflistung ist auf der offiziellen Webseite von Dropbear \footnote{https://matt.ucc.asn.au/dropbear/dropbear.html\#platforms} zu finden.

\subparagraph{Mosh} (mobile shell) bietet erweiterte Funktionalitäten, vorallem für mobile Geräte. Beispielsweise wird die Verbindung bei Roaming aufrechterhalten. Mosh ist keine direkte Implementierung des SSH-Protokolls. Es überträgt keinen Byte-String zwischen Client und Server. Vielmehr tauschen Client und Server einen Snapshot des aktuellen Bildschirms aus \cite{mosh}.

\subparagraph{Lsh} ist eine freie Implementierung des SSH-2-Protokolls, lizenziert untere der GNU GPL \cite{lsh}. 

\subparagraph{PuTTY} steht unter der MIT-Lizenz und ist für Windows und Linux verfügbar. Nur Client? \cite{putty} --> Buch ProOpenSSH

\subparagraph{OpenSSH} Server und Client; vorinstalliert auf allen Linux-Systemen




\section{OpenSSH}

OpenSSH -- eine der bekanntesten Implemetierungen des SSH-Protokolls -- dient nun dazu,
elementare Funktionalitäten vorzustellen.

--> ssh = Client \\
--> sshd = Server

Für alle Funktionalitäten gibt es unter der jeweiligen \IT manpage (Manual Page) eine Übersicht der verfügbaren Optionen (\$ man ssh, \$ man scp, \$ man sshfs). 

--> beinhaltet Server und Client
--> einfaches Installieren über den Paketmanager

\subsection{Remote Terminal Session}

Der enfternte Login auf einem Server ist das Basis-Feature von OpenSSH.
Dazu ist lediglich der Befehl \IT ssh und der \IT hostname, zu dem eine Verbidung aufgebaut werden soll, notwendig. Alle anderen Werte sind optional.
Eine Übersicht der Parameter ist auf den manpages von SSH zu finden
(\$ man ssh).

\begin{program}

[sue@kaktus]\$ ssh micra@login.rz.hs-augsburg.de
micra@login.rz.hs-augsburg.de's password:
%Linux bug 3.2.0-4-amd64 #1 SMP Debian 3.2.65-1+deb7u1 x86_64
Plan your installation, and FAI installs your plan.

Last login: Mon Apr 25 22:38:45 2016
from p5088ff5b.dip0.t-ipconnect.de
micra@bug:~\$

\end{program}

Im Beispiel loggt sich der Benutzer \IT sue (Client: \IT kaktus) unter dem Benutzer \IT micra auf dem Server \IT login.rz.hs-augsburg.de ein. Anschließend authentifiziert der Server den Client durch eine Passwortabfrage. Mit \IT micra@bug:~\$ steht das Remote-Terminal zur Verfügung. Neben der Passwortabfrage gibt es die Möglichkeit, zur Authentifizierung beim Server einen SSH-Schlüssel zu verwenden --> Verweis auf Textstelle im Paper?.

--> beenden mit exit etc.\\
--> rsh alte Version\\
--> remote-session wird in vielen Anwendungen verwendet

\subsection{Datenübertragung mit \IT{scp}}

\IT scp steht für \IT secure \IT copy und ermöglicht die gesicherte Übertragung von Daten zwischen Client und Server. Es können einzelne Dateien bis hin zu ganzen Verzeichnisstrukturen kopiert werden. \cite[S. 80]{openssh_book} Mit dem Befehl \IT scp, der Datei, die kopiert werden soll und der Angabe des Zielservers sind alle Pflichtparameter vorhanden. Nach Abfrage des Passworts durch den Server wird der Fortschritt der Datenübertragung angezeigt.

\begin{program}
[sue@kaktus ~]\$ scp hello\_all.txt
micra@login.rz.hs-augsburg.de:~
micra@login.rz.hs-augsburg.de's password:
hello\_all.txt        100\% 6297     6.2KB/s   00:00
\end{program}

Im Beispiel wird die Datei \IT hello\_ \IT all.txt vom Homeverzeichnis des Clients (sue@kaktus) in das Homeverzeichnis des Servers ( micra@login.rz.hs-augsburg.de:~) kopiert. Unter Angabe eines Dateinamens hinter dem Server kann die Datei auf dem Server beliebig benannt werden. In den manpages von sshfs sind noch zahlreiche Optionen zu finden (\$ man sshfs).

Aus dem Beispiel wird deutlich, dass \IT scp eine simple und effiziente Möglichkeit darstellt, Dateien sicher zwischen Client und Server zu übertragen. Es eignet sich beispielsweise hevorragend, um als Systemadministrator Aktualisierungen oder diverse Medien zu verteilen. \cite[S. 80]{openssh_book}

--> reguläre Ausdrücke sind möglich \\
--> rekursiv kopieren
--> 

\subsection{Dateisystem einhängen mit \IT{sshfs}}

\IT sshfs steht für \IT Secure \IT Shell \IT File \IT System. Beim Client kommt dafür das FUSE (Filesystem in Userspace) Kernel-Modul zum Einsatz. Der große Vorteil ist hier, dass der Benutzer am Client-PC mit den eingehängten Dateien arbeiten kann, als wären es lokale Dateien.

unmounting fusermount -u mountpoint


 

		 


\begin{program}
sshfs [user@]host:[dir] mountpoint [options]
\end{program}

\subsection{Schlüssel generieren mit \IT ssh-keygen}
\subsection{Port-Forwarding}
--> Variante davon: X-Forwarding
\subsection{Weitere Kommandos/Konfigurationsmöglichkeiten}
--> ssh\_config \\
--> sshd\_config \\



\section{Sicherheitsrelevante Betrachtung}




\subsection{Verschlüsselungsalgorithmen bei SSH}
\subsection{Ablauf einer sicheren Verbindung}\label{sec:ablauf}
\subsection{Aktuelle Schwachstellen}
Sicherheitskritische BUGs häufig nicht direkt in SSH, sondern in Komponenten, auf die SSH aufbaut, z.B. OpenSSL.

\subsection{Anforderungen an den Serveradministrator}
- System aktuell halten, Updates zügig einspielen


\newpage


\section{Fazit \& Ausblick}
--> sehr simpel und effizient
--> betrachtet man die nicht vorhandene Sensibilität bezüglich sicheren Passwörtern, ssh sinnvoll, bzw. mit ssh-key


\bibliography{sample}
\bibliographystyle{abbrv}


\end{document}


